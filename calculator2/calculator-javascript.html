<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="Css/css.css">
</head>

<body onload="FocusCalculator()">

  <div class="container">
    <div class="box">
      <input type="input" id="mytext" class="input_text" onkeydown="return KeyboardEvent(event)">
      <!-- <div  id="mytext" class="input_text" onkeydown="KeyboardEvent(event)"></div> -->
      <div class="calculator">
        <span class="Number" onclick="ShowNumber('1')">1</span>
        <span class="Number" onclick="ShowNumber('2')">2</span>
        <span class="Number" onclick="ShowNumber('3')">3</span>
        <span class="Number" onclick="ShowNumber('+')">+</span>
        <span class="Number" onclick="ShowNumber('4')">4</span>
        <span class="Number" onclick="ShowNumber('5')">5</span>
        <span class="Number" onclick="ShowNumber('6')">6</span>
        <span class="Number" onclick="ShowNumber('*')">*</span>
        <span class="Number" onclick="ShowNumber('7')">7</span>
        <span class="Number" onclick="ShowNumber('8')">8</span>
        <span class="Number" onclick="ShowNumber('9')">9</span>
        <span class="Number" onclick="ShowNumber('-')">-</span>
        <span class="Number" onclick="CalculatorEval('=')">=</span>
        <span class="Number" onclick="ShowNumber('0')">0</span>
        <span class="Number" onclick="CalculatorReset()">C</span>
        <span class="Number" onclick="ShowNumber('/')">/</span>
        <span class="Number" onclick="BacakspaceCalculator()"> <</span>
      </div>
    </div>
  </div>

  <script>
    function ShowNumber(button) {
      document.getElementById('mytext').value += button;

      if (button == '+' || button == "-" || button == "*" || button == "/") {
        CalculatorEval();
      }
     }


    function CalculatorEval(equal) {
      var numberinput = document.getElementById('mytext');
      if (numberinput.value === null || numberinput.value === "" || numberinput.value === undefined) {
        return;
      } else if (equal == '=' ||equal == '*') {
        ComputingCalculator();
      } else {
        var slice = numberinput.value.slice(-1);
        var split = numberinput.value.split('+');
        console.log(split);
        split = split.filter(v => v != '');
        if (slice === '+' && split.length >= 2) {
          numberinput.value = eval(split[0] + slice + split[1]) + slice;
        }

        var slice2 = numberinput.value.slice(-1);
        var split2 = numberinput.value.split('-');
        split2 = split2.filter(v => v != '');
        if (slice2 === '-' && split2.length >= 2) {
          numberinput.value = eval(split2[0] + slice2 + split2[1]) + slice2;
        }

        var slice3 = numberinput.value.slice(-1);
        var split3 = numberinput.value.split('*');
        split3 = split3.filter(v => v != '');
        if (slice3 === '*' && split3.length >= 2) {
          numberinput.value = eval(split3[0] + slice3 + split3[1]) + slice3;
        }
        var slice4 = numberinput.value.slice(-1);
        var split4 = numberinput.value.split('/');
        split4 = split4.filter(v => v != '');
        if (slice4 === '/' && split4.length >= 2) {
          numberinput.value = eval(split4[0] + slice4 + split4[1]) + slice4;
        }

      }

    }

    function ComputingCalculator() {
      var numberinput2 = document.getElementById('mytext');
      var calculatoreval = eval(numberinput2.value);
      document.getElementById('mytext').value = calculatoreval;
    }

    function CalculatorReset() {
      document.getElementById('mytext').value = "";
    }

    function KeyboardEvent(event) {
      var numberinput1 = document.getElementById('mytext');
      var keycode = event.keyCode;
      if (keycode == 46) { //Delete
        document.getElementById('mytext').value = "";

      }
      if (keycode == 13) { //Enter
        if (numberinput1.value === null || numberinput1.value === "" || numberinput1.value === undefined) {
          return;
        } else {
          ComputingCalculator();
        }
      }

      if (keycode === 13 || keycode === 46 || keycode === 8 || (keycode >= 48 && keycode <= 57) || (keycode >= 97 && keycode <= 109)){
        return;
      } else {
        return false;
      }
    }

    function FocusCalculator() {
      document.getElementById('mytext').focus();
    }


    function BacakspaceCalculator() {
      var value = document.getElementById('mytext').value;
      document.getElementById('mytext').value = value.substring(0, value.length - 1);
    }
  </script>
 
</body>

</html>


